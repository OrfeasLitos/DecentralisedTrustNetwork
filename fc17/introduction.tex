\section{Introduction}
   Online marketplaces can be categorized as centralized and decentralized.
   Two examples of each category are \href{http://www.ebay.com}{ebay} and \href{https://openbazaar.org/}{OpenBazaar}.
   The common denominator of established online marketplaces is that the reputation of each vendor and client is typically
   expressed in the form of stars and user-generated reviews that are viewable by the whole network.

   Our goal is to create a reputation system for decentralized marketplaces where the trust each user gives to the rest of
   the users is quantifiable, measurable and expressable in monetary terms. The central assumption used throughout this paper
   is that trust is equivalent to risk, or the proposition that $Alice$'s \textit{trust} to another user $Bob$ is defined to
   be the \textit{maximum sum of money} that $Alice$ can lose when $Bob$ is free to choose any strategy he wants. To flesh
   out this concept, we will use \textit{lines of credit} as proposed by Washington Sanchez \cite{loc}. Joining the network
   will be done by explicitly entrusting a certain amount of money to another user, say $Bob$. If $Bob$ has already entrusted
   an amount of money to a third user, $Charlie$, then we indirectly trust $Charlie$ since if the latter wished to play
   unfairly, he could have already stolen the money entrusted to him by $Bob$. Thus we can engage in economic interaction
   with $Charlie$. The currency used is Bitcoin \cite{bitcoin}.

   Bitcoin is a decentralized electronic currency that differs from conventional currencies in that it can be used wherever
   there exists an internet connection and does not depend on central trusted nodes such as banks and governments. All
   transactions ever completed are publicly viewable because they are recorded on a decentralized ledger named blockchain.
   Bitcoin miners compete using their computational resources for block generation. One block confirming all new transactions
   is generated every 10 minutes approximately. The new block is broadcast to all bitcoin users, where it is locally
   verified and added to the end of the blockchain. The chances of two miners creating two different valid blocks at the same
   time is tiny and the chance that such a discrepancy will not be ratified in a small number of blocks is exponentially
   small. The set of transactions not completed yet is called UTXO, or unspent transaction output. It contains all coins not
   spent yet. \medskip \ \\
   \subimport{common/figures/}{simpleexample.tikz} \smallskip \ \\
   We propose a new kind of wallet where coins are not stored locally, but are placed in shared accounts materialized through
   1-of-2 multisigs, a bitcoin construction that permits any one of two pre-designated users to spend the coins contained
   within a shared account \cite{masteringbitcoin}. We will use the notation 1/$\{Alice, Bob\}$ to represent a 1-of-2
   multisig that can be spent by either $Alice$ or $Bob$. In this notation, the order of usernames is irrelevant, as either
   user can spend. However, the user who deposits the money initially into the shared account is relevant - they are the one
   risking their money.

   Our approach changes the user experience in a subtle but drastic way. A user no more has to base her trust towards a
   store on stars or ratings which are not expressed in financial units. She can simply consult her wallet to decide whether
   the store is trustworthy and, if so, up to what value, denominated in bitcoin. This system works as follows: Initially
   $Alice$ migrates her funds from her private bitcoin wallet to 1-of-2 multisig addresses shared with friends she
   comfortably trusts. We call this direct trust. Our system is agnostic to the means players use to determine who is
   trustworthy for these direct 1-of-2 deposits. One novelty of our system is that this dubious kind of trust is confined to
   the direct neighbourhood of each player; indirect trust towards unknown users is calculated by a deterministic algorithm.
   For comparison, systems with global ratings do not distinguish between neighbours and other users, thus offering dubious
   trust indications for all users.

   Suppose that $Alice$ is viewing the item listings of vendor $Charlie$. Instead of $Charlie$'s stars, $Alice$ will see a
   positive value that is calculated by her wallet and represents the maximum monetary value that $Alice$ can safely use to
   complete a purchase from $Charlie$. We examine exactly how this value, known as indirect trust, is calculated in Trust
   Flow theorem (\ref{trustflow}). It is important to note here that indirect trust to a specific user is not global but
   subjective; each user views a personalized indirect trust based on the network topology. The indirect trust reported by
   our system maintains the following desired security property: If $Alice$ makes a purchase from $Charlie$, then she is
   exposed to no more risk than she was already taking willingly. The existing willing risk is exactly that which $Alice$
   was taking by sharing her coins with her trusted friends. We prove this result in the Risk Invariance theorem
   (\ref{riskinv}). Obviously it will not be safe for $Alice$ to buy anything from $Charlie$ or any other vendor if she has
   entrusted no value to any other user.

   We see that in TrustIsRisk the money is not invested at the time of the purchase and directly to the vendor, but at an
   earlier point in time and only to parties that are trustworthy for out of band reasons. The fact that this system can
   function in a completely decentralized fashion will become clear in the following sections. We prove this result in the
   Sybil Resilience theorem (\ref{sybil}).

   There are several incentives for a user to join this network. First of all, she can have access to a store that is
   otherwise inaccessible. Moreover, two friends can formalize their mutual trust by entrusting the same amount to each
   other. A large company that casually subcontracts other companies to complete various tasks can express its trust
   towards them using this method. A government can choose to entrust its citizens with money and confront them using a
   corresponding legal arsenal if they make irresponsible use of this trust. A bank can provide loans as outgoing and
   manage savings as incoming trust and thus has a unique opportunity of expressing in a formal and absolute way its
   credence by publishing its incoming and outgoing trust. Last but not least, the network can be viewed as a possible
   field for investment and speculation since it constitutes a completely new area for financial activity.

   It is worth noting that the same physical person can maintain multiple pseudonymous identities in the same trust network
   and that multiple independent trust networks for different purposes can coexist. On the other hand, the same
   pseudonymous identity can be used to establish trust in different contexts.
